{% extends "layout.html" %}
{% block title %}News Data - DB Stats{% endblock %}
{% block header %}News Data - DB Stats{% endblock %}

{% block extra_style %}
    <link rel="stylesheet" href="static/css/db_stats.css">
    <link rel="stylesheet" href="static/css/smoothness/jquery-ui-1.10.0.custom.css">
{% endblock %}

{% block body %}
    <div id="loading"><img src="static/images/addTerm-loader.gif"/> Loading...</div>

    <div id="dbStatsContent" style="display:none">

      <br/><hr/><br/>
      <h2>Settings</h2>
      <table>
        <tr>
         <td>Start:</td>
         <td><input type="text" id="start_time_txt" maxlength="10" size="10" /></td>
         <td><input type="checkbox" id="hide_max_cb"/>Hide Max</td>
         <td></td>
        </tr><tr>
         <td>End: </td>
         <td><input type="text" id="end_time_txt" maxlength="10" size="10" /></td>
         <td><input type="checkbox" id="hide_min_cb"/>Hide Min</td>
         <td><button id="settings_refresh">Refresh</button></td>
       </tr>
     </table>

      <br/><hr/><br/>
      <h2>Total Counts</h2>
      <table cellpadding="5" border="1px">
        <tr>
          <td><b>Raw Articles</b></td>
          <td><b>Parsed Articles</b></td>
          <td><b>Analyzed Articles</b></td>
          <td><b>Metric Data (Daily)</b></td>          
          <td><b>Metric Data (Monthly)</b></td>
        </tr>
        <tr>
          <td><span id="total_raw_articles" class="total_count"></span></td>
          <td><span id="total_parsed_articles" class="total_count"></span></td>
          <td><span id="total_analyzed_articles" class="total_count"></span></td>
          <td><span id="total_metric_data_daily" class="total_count"></span></td>          
          <td><span id="total_metric_data_monthly" class="total_count"></span></td>
        </tr>
      </table>

      <br/><hr/><br/>
      <h2>Raw Articles</h2>
      <table>
        <tr>
          <td><b>Raw Articles</b></td>
        </tr>
        <tr>
          <td><div id="graph_raw_articles" class="graph"></div></td>
        </tr>
      </table>      

      <br/><hr/><br/>
      <h2>Parsed Data</h2>
      <table>
        <tr>
          <td><b>Parsed Articles</b></td>
          <td><b>Size (Raw)</b></td>
          <td><b>Size (Parsed)</b></td>
          <td></td>
        </tr>
        <tr>
          <td><div id="graph_parsed_articles" class="graph"></div></td>
          <td><div id="graph_parsed_articles_size_raw" class="graph"></div></td>
          <td><div id="graph_parsed_articles_size_parsed" class="graph"></div></td>
          <td></td>
        </tr><tr>
          <td></td>
          <td><b>Size (Raw): Avg/Min/Max</b></td>
          <td><b>Size (Parsed): Avg/Min/Max</b></td>
          <td><b>Size (Ratio) Avg/Min/Max</b></td>
        </tr>
        <tr>
          <td></td>
          <td><div id="graph_parsed_articles_size_raw_avgminmax" class="graph"></div></td>
          <td><div id="graph_parsed_articles_size_parsed_avgminmax" class="graph"></div></td>
          <td><div id="graph_parsed_articles_size_ratio_avgminmax" class="graph"></div></td>
        </tr>
      </table>

      <br/><hr/><br/>
      <h2>Analyzed Data</h2>
      <table>
        <tr>
          <td><b>Analyzed Articles</b></td>
          <td><b>Unique Terms</b></td>
          <td><b>Total Terms</b></td>
        </tr>
        <tr>
          <td><div id="graph_analyzed_articles" class="graph"></div></td>
          <td><div id="graph_analyzed_articles_unique_terms" class="graph"></div></td>
          <td><div id="graph_analyzed_articles_total_terms" class="graph"></div></td>
        </tr><tr>
          <td></td>        
          <td><b>Unique Terms: Avg/Min/Max</b></td>
          <td><b>Total Terms: Avg/Min/Max</b></td>
        </tr>
        <tr>
          <td></td>
          <td><div id="graph_analyzed_articles_unique_terms_avgminmax" class="graph"></div></td>
          <td><div id="graph_analyzed_articles_total_terms_avgminmax" class="graph"></div></td>
        </tr>
      </table>      

    </div>
    <br/><br/><br/><br/>
{% endblock %}

{% block scripts %}
<!-- CDN Resources
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
-->

    <!-- Local copies of jquery, from CDN -->
    <script src="static/js/jquery.min.js" type="text/javascript"></script>
    <script src="static/js/jquery-ui.min.js" type="text/javascript"></script>

    <script src="static/js/raphael.2.1.1.min.js" type="text/javascript"></script>
    <script src="static/js/g.raphael.0.51.min.js" type="text/javascript"></script>
    <script src="static/js/db_stats.js" type="text/javascript"></script> 
{% endblock %}